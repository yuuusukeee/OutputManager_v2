<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
  <meta charset="UTF-8"/>
  <title>アウトプット一覧</title>
  <link rel="stylesheet" th:href="@{/css/app.css}"/>
  <style>
    /* 横スクロールの見た目（最低限） */
    .rail { display:flex; gap:12px; overflow-x:auto; padding:8px 2px; scroll-snap-type:x mandatory;}
    .card { flex:0 0 180px; scroll-snap-align:start; border:1px solid #e5e7eb; border-radius:12px; overflow:hidden; background:#fff; }
    .card img { width:100%; height:120px; object-fit:cover; display:block; }
    .card .meta { padding:8px 10px; }
    .section { margin:20px auto; max-width:1080px; }
    .section h2 { margin:0 0 8px 0; font-size:1.1rem; }
    .empty { color:#6b7280; font-size:0.9rem; padding:8px 0 0 2px; }
  </style>
</head>
<body>
  <!-- 共通ヘッダー -->
  <div th:replace="~{fragments/header :: body}"></div>

  <main>
    <!-- 最近のアウトプット -->
    <section class="section" th:if="${recent != null}">
      <h2>最近のアウトプット</h2>
      <div class="rail" th:if="${!#lists.isEmpty(recent)}">
        <a class="card" th:each="o : ${recent}" th:href="@{/outputs/{id}(id=${o.id})}">
          <!-- ★ icon を使う（imageUrl は使わない） -->
          <img th:if="${!#strings.isEmpty(o.icon)}" th:src="${o.icon}" alt="thumbnail">
          <div class="meta">
            <div th:text="${o.title}">タイトル</div>
          </div>
        </a>
      </div>
      <div class="empty" th:if="${#lists.isEmpty(recent)}">データがありません。</div>
    </section>

    <!-- お気に入り -->
    <section class="section" th:if="${favorites != null}">
      <h2>お気に入り</h2>
      <div class="rail" th:if="${!#lists.isEmpty(favorites)}">
        <a class="card" th:each="o : ${favorites}" th:href="@{/outputs/{id}(id=${o.id})}">
          <img th:if="${!#strings.isEmpty(o.icon)}" th:src="${o.icon}" alt="thumbnail">
          <div class="meta"><div th:text="${o.title}">タイトル</div></div>
        </a>
      </div>
      <div class="empty" th:if="${#lists.isEmpty(favorites)}">データがありません。</div>
    </section>

    <!-- 学習 -->
    <section class="section" th:if="${learn != null}">
      <h2>学習</h2>
      <div class="rail" th:if="${!#lists.isEmpty(learn)}">
        <a class="card" th:each="o : ${learn}" th:href="@{/outputs/{id}(id=${o.id})}">
          <img th:if="${!#strings.isEmpty(o.icon)}" th:src="${o.icon}" alt="thumbnail">
          <div class="meta"><div th:text="${o.title}">タイトル</div></div>
        </a>
      </div>
      <div class="empty" th:if="${#lists.isEmpty(learn)}">データがありません。</div>
    </section>

    <!-- 健康 -->
    <section class="section" th:if="${health != null}">
      <h2>健康</h2>
      <div class="rail" th:if="${!#lists.isEmpty(health)}">
        <a class="card" th:each="o : ${health}" th:href="@{/outputs/{id}(id=${o.id})}">
          <img th:if="${!#strings.isEmpty(o.icon)}" th:src="${o.icon}" alt="thumbnail">
          <div class="meta"><div th:text="${o.title}">タイトル</div></div>
        </a>
      </div>
      <div class="empty" th:if="${#lists.isEmpty(health)}">データがありません。</div>
    </section>

    <!-- 仕事 -->
    <section class="section" th:if="${work != null}">
      <h2>仕事</h2>
      <div class="rail" th:if="${!#lists.isEmpty(work)}">
        <a class="card" th:each="o : ${work}" th:href="@{/outputs/{id}(id=${o.id})}">
          <img th:if="${!#strings.isEmpty(o.icon)}" th:src="${o.icon}" alt="thumbnail">
          <div class="meta"><div th:text="${o.title}">タイトル</div></div>
        </a>
      </div>
      <div class="empty" th:if="${#lists.isEmpty(work)}">データがありません。</div>
    </section>

    <!-- 生活 -->
    <section class="section" th:if="${life != null}">
      <h2>生活</h2>
      <div class="rail" th:if="${!#lists.isEmpty(life)}">
        <a class="card" th:each="o : ${life}" th:href="@{/outputs/{id}(id=${o.id})}">
          <img th:if="${!#strings.isEmpty(o.icon)}" th:src="${o.icon}" alt="thumbnail">
          <div class="meta"><div th:text="${o.title}">タイトル</div></div>
        </a>
      </div>
      <div class="empty" th:if="${#lists.isEmpty(life)}">データがありません。</div>
    </section>
  </main>
</body>
</html>